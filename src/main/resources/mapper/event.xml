<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multi.hereevent.event">
	<insert id="insertCrawlingEvent" parameterType="event">
		insert into event  (name, start_date, end_date, addr, info, homepage, sns, img_path)
		select #{name}, #{start_date}, #{end_date}, #{addr}, #{info}, #{homepage}, #{sns}, #{img_path}
		from dual where not exists (
			select event_no
			from event
			where name=#{name} and start_date=#{start_date} and end_date=#{end_date} and addr=#{addr})
	</insert>
	<select id="selectEventNoByEventName" parameterType="String" resultType="String">
		select event_no
		from event
		where name=#{name}
	</select>
</mapper>