<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/mainLayout}">>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #listbox {
               display: flex;
               flex-wrap: wrap;
               justify-content: center;
               gap: 3rem; /* 카드 사이의 간격 */
               justify-content: center; /* 카드들을 가운데 정렬 */
           }
           .card {
               width: 18rem;
               height: 25rem;
               flex-direction: column;
               justify-content: space-between; /* 카드 내용 사이에 공간을 분배하여 균형을 맞춤 */
               box-shadow: 2px 2px 3px;
           }
           .card img {
               width: 100%;
               height: 50%;
           }
           .card-body {
               flex-direction: column;
               justify-content: space-between;
               text-align: right;
           }

            #listbox .btn-primary {
                background-color: #d0513d;
                border-color: #d0513d;
                color: #fff;
                width: 50%; /* 버튼을 가득 채우도록 너비 설정 */
                text-align: center;
                transition: background-color 0.3s, border-color 0.3s; /* 색상 변경 시 부드러운 전환 효과 */
                margin-top: 15px;
                margin-bottom: 15px;
            }
           #listbox .btn-primary:hover {
                background-color: #d76b5a; /* 호버 시 배경 색상 변경 */
            }
           #listbox .btn-primary:focus, #listbox .btn-primary:active {
                background-color: #d76b5a; /* 클릭 시 배경 색상 변경 */
                border-color: #d76b5a; /* 클릭 시 테두리 색상 변경 */
                outline: none; /* 클릭 시 기본 포커스 테두리 제거 */
                box-shadow: 0 0 0 0.1rem rgba(255, 99, 132, 0.5); /* 클릭 시 테두리 그림자 효과 */
           }
           #listbox .card-title{
                font-weight: bold;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                text-align: left;
           }
            #listbox .card-text{
                font-size: 15px;
                margin-top: 20px;
                margin-bottom: 10px;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                text-align: left;
           }
    </style>
</head>
<body>
    <main layout:fragment="main" class="main">
        <!-- Page Title -->
        <div class="page-title">
            <div class="container">
                <nav class="breadcrumbs">
                    <ol>
                        <li><a href="/hereevent/main">Home</a></li>
                        <li th:if="${type == 'star'}" class="current">별점 순</li>
                        <li th:if="${type == 'popular'}" class="current">인기 순</li>
                        <li th:if="${type == 'open'}" class="current">오픈 예정 이벤트</li>
                        <li th:if="${type == 'all'}" class="current">전체 이벤트</li>
                    </ol>
                </nav>
                <h1 th:if="${type == 'star'}">별점이 높은 이벤트 TOP 10</h1>
                <h1 th:if="${type == 'popular'}">인기가 많은 이벤트 TOP 10</h1>
                <h1 th:if="${type == 'open'}">오픈 예정 이벤트</h1>
                <h1 th:if="${type == 'all'}">전체 이벤트</h1>
            </div>
        </div>
        <!-- End Page Title -->

        <div id="listbox" class="container">
            <div th:each="event : ${eventList}" class="card" style="width: 18rem;">
               <img th:src="@{/download/event/{img_path}(img_path=${event.img_path})}" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title" th:text="${event.name}"></h5>
                    <p class="card-text"><span th:text="${event.start_date}" class="overlay-text"/> ~ <span th:text="${event.end_date}" class="overlay-text"/></p>
                    <p class="card-text" th:text="${event.addr}"></p>
                    <a th:href="@{/event/{event_no}(event_no=${event.event_no})}" class="btn btn-primary">상세페이지</a>
                </div>'
            </div>'
        </div>
    </main>
</body>
</html>